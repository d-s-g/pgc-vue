(function(t){function e(e){for(var i,a,n=e[0],u=e[1],c=e[2],l=0,m=[];l<n.length;l++)a=n[l],o[a]&&m.push(o[a][0]),o[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],i=!0,n=1;n<s.length;n++){var u=s[n];0!==o[u]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},o={app:0},r=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],u=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=u;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"2f0d":function(t,e,s){var i={"./locale":"c020","./locale.js":"c020"};function o(t){var e=r(t);return s(e)}function r(t){var e=i[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="2f0d"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),o=(s("7f7f"),s("2f62")),r=s("bc3a"),a=s.n(r);i["a"].use(o["a"]);var n={showStudios:!0,showBooking:!1,showBookingRequest:!1,showBookingRequestModal:!1,studios:[],minimum_bookable_seconds:"",currentStudio:[],studioLoad:!0,availability:[],selectedTimes:[],unformattedDate:"",requested_date:"",humanDate:"",room_tid:!1,requested_start_time:!1,requested_end_time:!1,phone_number:!1,email:!1,message:!1,requestStatus:"",error:"",showModal:!1,isLoading:!1},u={},c={SET_STUDIOS:function(t,e){t.studios=e},SET_STUDIO_TID:function(t,e){t.room_tid=e},SET_STUDIO_LOAD:function(t,e){t.studioLoad=e},SET_AVAILABILITY:function(t,e){t.availability=e},SET_CURRENT_STUDIO:function(t,e){t.currentStudio=e},SET_MINIMUM_BOOKABLE_TIME:function(t,e){t.minimum_bookable_seconds=e},SET_UNFORMATTED_DATE:function(t,e){t.unformattedDate=e},SET_FORMATTED_DATE:function(t,e){t.requested_date=e},SET_HUMAN_DATE:function(t,e){t.humanDate=e},SET_SELECTED_TIMES:function(t,e){t.selectedTimes=e},SET_REQUESTED_START_TIME:function(t,e){t.requested_start_time=e},SET_REQUESTED_END_TIME:function(t,e){t.requested_end_time=e},SET_NAME:function(t,e){t.name=e},SET_PHONE_NUMBER:function(t,e){t.phone_number=e},SET_EMAIL:function(t,e){t.email=e},SET_MESSAGE:function(t,e){t.message=e},SHOW_STUDIOS:function(t,e){t.showStudios=e},SHOW_BOOKING:function(t,e){t.showBooking=e},SHOW_BOOKING_REQUEST:function(t,e){t.showBookingRequest=e},SET_REQUEST_STATUS:function(t,e){t.requestStatus=e},SET_ERROR:function(t,e){t.error=e},SET_SHOW_MODAL:function(t,e){t.showModal=e},SET_IS_LOADING:function(t,e){t.isLoading=e}},d={loadCsrfToken:function(){a.a.get("/rest/session/token").then(function(t){a.a.defaults.headers.common={"X-CSRF-TOKEN":t.data}}).catch(function(t){console.error(t.response)})},loadStudios:function(t){var e=t.commit;e("SET_IS_LOADING",!0),a.a.get("/api/booking/v1/rooms").then(function(t){e("SET_STUDIOS",t.data.rooms),e("SET_IS_LOADING",!1)}).catch(function(t){e("SET_REQUEST_STATUS","ERROR"),e("SET_IS_LOADING",!0),console.error(t.response)})},getStudioAvailability:function(t,e){var s=t.commit;s("SET_IS_LOADING",!0),a.a.get("/api/booking/v1/availability?room_tid=".concat(e.tid,"&date=").concat(e.date)).then(function(t){"Error"!==t.data.status?(s("SET_ERROR",""),s("SET_AVAILABILITY",t.data.availability),s("SET_IS_LOADING",!1)):(s("SET_ERROR",t.data.status),s("SET_AVAILABILITY",t.data.message),s("SET_IS_LOADING",!1))}).catch(function(t){s("SET_REQUEST_STATUS","ERROR"),console.error(t.response)})},postBookingRequest:function(t,e){var s=t.commit;e={name:n.name,requested_date:n.unformattedDate,room_tid:n.room_tid,requested_start_time:n.requested_start_time,requested_end_time:n.requested_end_time,phone_number:n.phone_number,email:n.email,message:n.message,recurring:n.recurring},s("SET_REQUEST_STATUS","PENDING"),a.a.post("/api/booking/v1/request",e).then(function(t){"OK"===t.data.status&&(s("SET_REQUEST_STATUS",t.data.status),window.location="/studio-rental-reservation")}).catch(function(t){s("SET_REQUEST_STATUS","ERROR"),console.error(t)})}},l=new o["a"].Store({state:n,getters:u,mutations:c,actions:d}),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showStudios?s("studio"):t._e(),t.showBooking?s("booking"):t._e(),t.showBookingRequest?s("booking-request"):t._e()],1)},_=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticClass:"page-header"},[t._v("Which studio would you like to reserve?")]),t.isLoading?s("div",{staticClass:"loader"},[t._v("load")]):t._e(),s("div",{staticClass:"container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.responseError,expression:"responseError === 'ERROR'"}]},[t._v("\n      There was an error processing your request.\n    ")]),t._l(t.rowCount,function(e){return s("div",{key:e,staticClass:"row"},t._l(t.itemCountInRow(e),function(t){return s("studio-card",{key:t.tid,attrs:{studio:t}})}),1)})],2)])},v=[],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"col-sm-6 studio-choice",style:{backgroundImage:"url("+t.studio.field_studio_image+")"},on:{click:t.getBookingPane}},[s("div",{staticClass:"studio-description",domProps:{innerHTML:t._s(t.studio.description)}},[t._v(t._s(t.studio.description))]),s("div",{staticClass:"studio-title",domProps:{innerHTML:t._s(t.studio.name)}},[t._v(t._s(t.studio.name))])])])},p=[],E={name:"studio-card",props:["studio"],methods:{getBookingPane:function(){this.setCurrentStudio(this.studio),this.showStudios(!1),this.showBooking(!0)},showStudios:function(t){return this.$store.commit("SHOW_STUDIOS",t)},showBooking:function(t){return this.$store.commit("SHOW_BOOKING",t)},setCurrentStudio:function(t){return this.$store.commit("SET_STUDIO_TID",t.tid),this.$store.commit("SET_MINIMUM_BOOKABLE_TIME",t.field_minimum_bookable_seconds),this.$store.commit("SET_CURRENT_STUDIO",t)}}},S=E,g=s("2877"),b=Object(g["a"])(S,f,p,!1,null,null,null),T=b.exports,$={name:"Studio",components:{StudioCard:T},computed:{studios:function(){return this.$store.state.studios},rowCount:function(){return Math.ceil(this.studios.length/2)},responseError:function(){return this.$store.state.requestStatus},isLoading:function(){return this.$store.state.isLoading}},methods:{itemCountInRow:function(t){return this.studios.slice(2*(t-1),2*t)}}},k=$,C=(s("9008"),Object(g["a"])(k,h,v,!1,null,"372b40f8",null)),w=C.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"booking"},[s("h1",{staticClass:"page-header"},[t._v("When would you like to reserve the studio?")]),s("booking-card",{attrs:{"current-studio":t.currentStudio}}),s("booking-times",{attrs:{"current-studio-id":t.currentStudio.tid}})],1)},D=[],R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"booking-studio"},[s("div",{staticClass:"booking-studio__image col-sm-5",style:{backgroundImage:"url("+t.currentStudio.field_studio_image+")"}}),s("div",{staticClass:"booking-studio__info col-sm-7"},[t._m(0),s("div",{staticClass:"booking-studio__title"},[s("h2",[t._v(t._s(t.currentStudio.name))])]),s("div",{staticClass:"booking-studio__details",domProps:{innerHTML:t._s(t.currentStudio.description)}},[t._v("\n      "+t._s(t.currentStudio.description)+"\n    ")]),t._m(1)])])},M=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"booking-studio__selected booking-studio__selected--studio"},[s("h3",[s("span",[t._v("1")]),t._v("Selected Studio")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"booking-studio__edit"},[s("a",{attrs:{href:"/booking"}},[t._v("Edit Studio")])])}],y={name:"bookingCard",props:{currentStudio:{type:Object,required:!0}}},q=y,I=Object(g["a"])(q,R,M,!1,null,null,null),A=I.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"booking__times"},[s("div",{staticClass:"col-sm-5 booking-studio__calendar"},[t._m(0),s("datepicker",{attrs:{disabledDates:t.disabledDates,inline:!0,value:t.unformattedDate},on:{selected:t.getAvailability}})],1),s("div",{staticClass:"col-sm-7 booking-studio__times"},[s("div",{staticClass:"studio-times__header"},[t._m(1),s("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.humanDate,expression:"humanDate != ''"}],staticClass:"studio-times__date"},[s("h2",[t._v(t._s(t.humanDate))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"ERROR"===t.responseError,expression:"responseError === 'ERROR'"}],staticClass:"studio-times__error studio-times__error--server-error"},[s("i",{staticClass:"fa fa-exclamation",attrs:{"aria-hidden":"true"}}),t._v("\n      There was an error processing your request.\n    ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:"Error"===t.error,expression:"error === 'Error' "}],staticClass:"studio-times__error studio-times__error--unavailiable"},[s("i",{staticClass:"fa fa-exclamation",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.availability)+"\n    ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.allReserved&&Object.keys(t.availability).length>1,expression:"allReserved && Object.keys(availability).length > 1"}],staticClass:"tudio-times__error studio-times__error--reserved"},[s("i",{staticClass:"fa fa-exclamation",attrs:{"aria-hidden":"true"}}),t._v("All reservation times for this studio have been reserved for the selected date. Please choose another day or choose another studio.\n    ")]),t.isLoading?s("div",{staticClass:"loader"}):t._e(),s("ul",{directives:[{name:"show",rawName:"v-show",value:"Error"!==t.error,expression:"error !== 'Error'"}],staticClass:"studio-times__list"},t._l(t.validatedAvailability,function(e,i){return s("li",{key:i,staticClass:"studio-times__item"},[e.selectable?s("a",{staticClass:"studio-time--active",class:e.classes,on:{click:function(s){return t.selectTime(e)}}},[e.selected?s("span",{staticClass:"time-added"},[t._v("Added")]):t._e(),t._v(t._s(e.formatted_range)+"\n        ")]):s("a",{staticClass:"studio-time",class:e.classes},[e.selected?s("span",{staticClass:"time-added"},[t._v("Added")]):t._e(),e.on_hold?s("span",[t._v("ON HOLD")]):t._e(),e.available_seats<1&&!e.on_hold?s("span",[t._v("RESERVED")]):t._e(),t._v("\n          "+t._s(e.formatted_range)+"\n        ")])])}),0)]),s("div",[s("transition",{attrs:{name:"modal"}},[this.selected.length?s("div",{staticClass:"modal-content studio-selection-modal",staticStyle:{bottom:"0",left:"0",position:"absolute"}},[s("div",{staticClass:"modal-header"},[30*this.selected.length*60>=this.minimum_bookable_seconds?s("h4",{staticClass:"modal-title",on:{click:t.showBookingRequestPane}},[s("span",{staticClass:"studio-selection-selected"},[t._v(t._s(t.buttonMessage))])]):s("h4",{staticClass:"modal-title"},[s("span",{staticClass:"studio-selection-required"},[t._v(t._s(t.buttonMessage))])])])]):t._e()])],1)])},x=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"booking-studio__selected booking-studio__selected--day"},[s("h3",[s("span",[t._v("2")]),t._v("SELECT A DAY")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"booking-studio__selected booking-studio__selected--time"},[s("h3",[s("span",[t._v("3")]),t._v("SELECT A TIME")])])}],B=s("5176"),U=s.n(B),L=s("75fc"),P=s("a4bb"),Y=s.n(P),j=s("fa33"),H=s("b231"),G=s.n(H),Q={name:"BookingTimes",props:{currentStudioId:{type:String,required:!0}},components:{Datepicker:j["a"]},data:function(){return{showModal:!1,isBooked:!1,slot:"",buttonMessage:"Next",disabledDates:{to:new Date}}},computed:{availability:function(){return this.$store.state.availability},minimum_bookable_seconds:function(){return this.$store.state.minimum_bookable_seconds},unformattedDate:function(){return this.$store.state.unformattedDate},selected:function(){return this.$store.state.selectedTimes},humanDate:function(){return this.$store.state.humanDate},error:function(){return this.$store.state.error},responseError:function(){return this.$store.state.requestStatus},allReserved:function(){return this.validatedAvailability.every(function(t){return 0===t.available_seats})},isLoading:function(){return this.$store.state.isLoading},validatedAvailability:function(){var t=this,e=Y()(this.availability).reduce(function(e,s,i){var o=t.availability[s],r=t.selected.reduce(function(t,e){return e.booking_start===o.booking_start&&(t=!0),t},!1);return r&&e.push(i),e},[]),s=Math.min.apply(Math,Object(L["a"])(e)),i=Math.max.apply(Math,Object(L["a"])(e));return Y()(this.availability).map(function(e,o){var r=t.availability[e],a={};return a.isFirstSelection=o===s,a.isLastSelection=o===i,a.on_hold=r.on_hold,a.selected=t.selected.reduce(function(t,e){return e.booking_start===r.booking_start&&(t=!0),t},!1),a.selectable=function(){return!(r.available_seats<1)&&(0===t.selected.length||(o===s-1||o===i+1||a.isFirstSelection||a.isLastSelection))}(),a.classes={"studio-time--selectable":!0===a.selectable,"studio-time--selected":!0===a.selected,"studio-time--disabled":!1===a.selectable,"studio-time--on-hold":!0===a.on_hold,"studio-time--reserved":r.available_seats<1&&!a.on_hold},U()(a,r)})}},methods:{getAvailability:function(t){var e=G()(t).format("YYYY-MM-DD")===G()(this.unformattedDate).format("YYYY-MM-DD");if(!e){this.selected!==[]&&(this.selected=[]),!1!==this.$store.state.requested_start_time&&this.$store.commit("SET_REQUESTED_START_TIME",!1),!1!==this.$store.state.requested_end_time&&this.$store.commit("SET_REQUESTED_END_TIME",!1);var s=G()(t).format("YYYY-MM-DD"),i={tid:"".concat(this.currentStudioId),date:"".concat(s)};this.getHumanDate(t),this.$store.commit("SET_UNFORMATTED_DATE",t),this.$store.commit("SET_FORMATTED_DATE",s),this.$store.dispatch("getStudioAvailability",i)}},getHumanDate:function(t){var e=G()(t).format("MMM DD, YYYY");return this.$store.commit("SET_HUMAN_DATE",e),this.humanDate=e},selectTime:function(t){var e=this.selected.reduce(function(e,s,i){return s.booking_start===t.booking_start&&(e=i),e},-1);e>=0?(this.selected.splice(e,1),this.$store.commit("SET_SELECTED_TIMES",this.selected),this.getMinMaxdates(this.selected)):(this.selected.push(t),this.$store.commit("SET_SELECTED_TIMES",this.selected),this.getMinMaxdates(this.selected))},getMinMaxdates:function(t){var e=t.map(function(t){return G()(t.booking_start)}),s=t.map(function(t){return G()(t.booking_end)}),i=G.a.min(e).valueOf(),o=G.a.max(s).valueOf(),r=1800;if(this.selected.length*r>=this.minimum_bookable_seconds)this.$store.state.requested_start_time!==i&&this.$store.commit("SET_REQUESTED_START_TIME",i),this.$store.state.requested_end_time!==o&&this.$store.commit("SET_REQUESTED_END_TIME",o),this.buttonMessage="Next";else if(!1!==this.$store.state.requested_start_time&&this.$store.commit("SET_REQUESTED_START_TIME",!1),!1!==this.$store.state.requested_end_time&&this.$store.commit("SET_REQUESTED_END_TIME",!1),this.minimum_bookable_seconds<2*r)this.buttonMessage="A minimum of (".concat(this.minimum_bookable_seconds/60,") minutes of reserved time is required for this studio.");else{var a=Math.floor(this.minimum_bookable_seconds/60/60)+"."+this.minimum_bookable_seconds/60%60/60*10;this.buttonMessage="A minimum of (".concat(a,") consecutive hours of reservations are required for this studio.")}},showBookingRequestPane:function(){this.showBooking(!1),this.showBookingRequest(!0)},showBooking:function(t){return this.$store.commit("SHOW_BOOKING",t)},showBookingRequest:function(t){return window.scrollTo(0,0),this.$store.commit("SHOW_BOOKING_REQUEST",t)}}},W=Q,K=(s("ed0c"),Object(g["a"])(W,N,x,!1,null,"6fc512fb",null)),F=K.exports,V={name:"Booking",components:{bookingCard:A,bookingTimes:F},computed:{currentStudio:function(){return this.$store.state.currentStudio}}},J=V,X=Object(g["a"])(J,O,D,!1,null,null,null),z=X.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"booking-request"},[s("h1",{staticClass:"page-header"},[t._v("Confirm & Request Studio Space")]),s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.currentStudio.field_step_3_help_text,expression:"currentStudio.field_step_3_help_text"}],staticClass:"col-sm-12"},[s("div",{staticClass:"studi-oconfirm-desc",domProps:{innerHTML:t._s(t.currentStudio.field_step_3_help_text)}},[t._v("\n          "+t._s(t.currentStudio.field_step_3_help_text)+"\n        ")])]),s("div",{staticClass:"col-sm-5 studio-details-wpr"},[s("h2",{staticClass:"studio-confirm-title"},[t._v("Reservation Details")]),s("div",{staticClass:"res-wpr"},[s("div",{staticClass:"res-title"},[t._v("Selected Studio")]),s("div",{staticClass:"res-desc"},[t._v(t._s(t.currentStudio.name))]),s("div",{staticClass:"res-title"},[t._v("Day")]),s("div",{staticClass:"res-desc"},[t._v(t._s(t.humanDate))]),s("div",{staticClass:"res-title"},[t._v("Time(s)")]),s("div",{staticClass:"res-desc"},[t._v(t._s(t.currentMinTime)+" - "+t._s(t.currentMaxTime))]),s("div",{staticClass:"res-link",on:{click:t.showBookingPane}},[t._v("Edit day & Time")])])]),s("div",{staticClass:"col-sm-7 studio-contact-wpr"},[s("form",{attrs:{id:"studio-contact-form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("h2",{staticClass:"studio-confirm-title"},[t._v("Contact information")]),s("div",{staticClass:"form-item form-group",class:{"form-group--error":t.$v.name.$error}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.name.$model,expression:"$v.name.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"name",type:"text","aria-describedby":"name"},domProps:{value:t.$v.name.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.name,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._m(0),!t.$v.name.required&&t.$v.name.$dirty?s("div",{staticClass:"has-error"},[t._v("Name is required")]):t._e()]),s("div",{staticClass:"form-item form-group",class:{"form-group--error":t.$v.email.$error}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"email",type:"text","aria-describedby":"email"},domProps:{value:t.$v.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.email,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._m(1),!t.$v.email.required&&t.$v.email.$dirty?s("div",{staticClass:"has-error"},[t._v("Email is required")]):t._e(),!t.$v.email.email&&t.$v.email.$dirty?s("div",{staticClass:"has-error"},[t._v("Must be a vaild email")]):t._e()]),s("div",{staticClass:"form-item form-group",class:{"form-group--error":t.$v.phone.$error}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.phone.$model,expression:"$v.phone.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"phone",type:"text","aria-describedby":"phone"},domProps:{value:t.$v.phone.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.phone,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"control-label",attrs:{for:"phone"}},[t._v("Phone")]),!t.$v.phone.validPhone&&t.$v.phone.$dirty?s("div",{staticClass:"has-error"},[t._v("Must be a vaild phone number")]):t._e()]),s("div",{staticClass:"form-item form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.message,expression:"message",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"message",type:"textarea","aria-describedby":"phone",placeholder:"What special equipment, materials or supplies do you need?"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"control-label",attrs:{for:"message"}},[t._v("Message")])]),s("div",{staticClass:"form-item form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.recurring,expression:"recurring",modifiers:{trim:!0}}],attrs:{id:"recurring",type:"checkbox","aria-label":"recurring"},domProps:{checked:Array.isArray(t.recurring)?t._i(t.recurring,null)>-1:t.recurring},on:{change:function(e){var s=t.recurring,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=null,a=t._i(s,r);i.checked?a<0&&(t.recurring=s.concat([r])):a>-1&&(t.recurring=s.slice(0,a).concat(s.slice(a+1)))}else t.recurring=o}}}),s("label",{attrs:{for:"recurring"}},[t._v("Request a recurring time slot.")]),s("div",{staticClass:"form-desc"},[t._v("Recurring rentals are subject to changes in programming.")])]),"PENDING"===t.status?s("div",[t._v("Sending... ")]):t._e()])])])]),s("a",{staticClass:"booking-request-submit",on:{click:t.submit}},[t._v("Submit")]),s("transition",{staticStyle:{display:"none"},attrs:{name:"modal modal-request-wpr"}},[s("div",{staticClass:"modal-mask",staticStyle:{display:"none"}},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h2",{staticClass:"request-title"},[t._v("Your request has been sent.")]),s("p",{staticClass:"request-subtitle"},[t._v("\n                  We will contact you to confirm your request.\n                  Please call 412-365-2145 with questions.\n                ")])]),s("div",{staticClass:"modal-body"},[s("p",{staticClass:"request-body"}),s("button",{staticClass:"btn-primary btn",on:{click:function(e){t.showModal=!1}}},[t._v("Got it!")])])])])])])])],1)},tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"control-label form-required",attrs:{for:"name"}},[t._v("Name"),s("sup",[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"control-label form-required",attrs:{for:"email"}},[t._v("Email"),s("sup",[t._v("*")])])}],et=s("b5ae"),st=s("73c5"),it=function(t){return st.valid(t)},ot={name:"booking-request",data:function(){return{name:"",email:"",phone:"",message:"",recurring:!1}},validations:{name:{required:et["required"]},email:{required:et["required"],email:et["email"]},phone:{validPhone:it}},computed:{currentStudio:function(){return this.$store.state.currentStudio},humanDate:function(){return G()(this.$store.state.unformattedDate).format("dddd, MMMM DD, YYYY")},currentMinTime:function(){return G.a.unix(this.$store.state.requested_start_time).format("h:mma")},currentMaxTime:function(){return G.a.unix(this.$store.state.requested_end_time).format("h:mma")},status:function(){return this.$store.state.requestStatus},showModal:{get:function(){return this.$store.state.showModal},set:function(t){return this.$store.commit("SET_SHOW_MODAL",t)}}},methods:{showBookingPane:function(){this.showBooking(!0),this.showBookingRequest(!1)},showBooking:function(t){return this.$store.commit("SHOW_BOOKING",t)},showBookingRequest:function(t){return this.$store.commit("SHOW_BOOKING_REQUEST",t)},submit:function(){this.$v.$touch(),"PENDING"!==this.status&&(this.$v.$invalid||(this.$store.commit("SET_NAME",this.name),this.$store.commit("SET_EMAIL",this.email),""!==this.phone&&this.$store.commit("SET_PHONE_NUMBER",this.phone),""!==this.message&&this.$store.commit("SET_MESSAGE",this.message),!1!==this.recurring&&this.$store.commit("SET_RECURRING",this.recurring),this.$store.dispatch("postBookingRequest")))}}},rt=ot,at=Object(g["a"])(rt,Z,tt,!1,null,null,null),nt=at.exports,ut={name:"App",components:{Studio:w,Booking:z,BookingRequest:nt},created:function(){this.$store.dispatch("loadCsrfToken"),this.$store.dispatch("loadStudios")},computed:{showStudios:function(){return this.$store.state.showStudios},showBooking:function(){return this.$store.state.showBooking},showBookingRequest:function(){return this.$store.state.showBookingRequest}}},ct=ut,dt=Object(g["a"])(ct,m,_,!1,null,null,null),lt=dt.exports,mt=s("1dce"),_t=s.n(mt);i["a"].config.productionTip=!1,i["a"].use(_t.a),new i["a"]({store:l,render:function(t){return t(lt)}}).$mount("#booking-app")},"818c":function(t,e,s){},9008:function(t,e,s){"use strict";var i=s("ebd6"),o=s.n(i);o.a},ebd6:function(t,e,s){},ed0c:function(t,e,s){"use strict";var i=s("818c"),o=s.n(i);o.a}});
//# sourceMappingURL=app.js.map